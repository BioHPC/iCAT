<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>immune Cell Analysis Tool • iCAT</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="immune Cell Analysis Tool">
<meta property="og:description" content="Interactive interface to uploaded labeled TCR-sequencing clonotype lists,
             find significant target-associated TCR sequences, and allow prediction of
             independent samples.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">iCAT</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/vignette.html">iCAT: exposure prediction R-package using TCR sequencing clonotypes</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
<div id="icat-immune-cells-analysis-software-tool" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#icat-immune-cells-analysis-software-tool" class="anchor"></a>iCAT: Immune Cells Analysis software Tool <img src="inst/app/www/cat2.png" align="right" width="125">
</h1></div>
<p>High throughput sequencing of immune cell receptor sequences presents a unique opportunity to inform our understanding of immunological response to infection and how we can detect it. However, the nature of this process requires analysis of massive datasets that requires streamlining. Here we present ICAT, an R-based method for tackling this data and applying statistical analyses to find significant patterns and divergences.</p>
<p><br></p>
<p><br></p>
<div id="pre-requisites" class="section level3">
<h3 class="hasAnchor">
<a href="#pre-requisites" class="anchor"></a>Pre-requisites:</h3>
<ul>
<li>R version</li>
<li>Download R (&gt;3.4.0) version from CRAN.
<ul>
<li>Windows: <a href="https://cran.r-project.org/bin/windows/base/" class="uri">https://cran.r-project.org/bin/windows/base/</a>
</li>
<li>Mac OS X: <a href="https://cran.r-project.org/bin/macosx/" class="uri">https://cran.r-project.org/bin/macosx/</a>
</li>
<li>Linux: <a href="https://cran.r-project.org/bin/linux/" class="uri">https://cran.r-project.org/bin/linux/</a>
</li>
</ul>
</li>
<li>Libraries:
<ul>
<li>devtools</li>
</ul>
</li>
</ul>
<p>To install devtools, use the command:</p>
<div class="sourceCode"><pre class="sourceCode R"><code class="sourceCode r">    <span class="op">&gt;</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"devtools"</span>) 
    </code></pre></div>
<p><em>Note</em>: iCAT also uses shiny, shinyjs, data.table, ggplot2, DT, hash, and magrittr. However, those packages will be installed if using <code>install_github</code> from below.</p>
</div>
<div id="installing-icat" class="section level2">
<h2 class="hasAnchor">
<a href="#installing-icat" class="anchor"></a>Installing iCAT</h2>
<p>Using an R interface, type:</p>
<div class="sourceCode"><pre class="sourceCode R"><code class="sourceCode r">    <span class="op">&gt;</span><span class="st"> </span>devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"BioHPC/iCAT"</span>) </code></pre></div>
</div>
<div id="graphical-interface-workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#graphical-interface-workflow" class="anchor"></a>Graphical Interface Workflow</h2>
<p>In R:</p>
<div class="sourceCode"><pre class="sourceCode R"><code class="sourceCode r">    <span class="op">&gt;</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(iCAT)
    <span class="op">&gt;</span><span class="st"> </span><span class="kw"><a href="reference/iCATinteractive.html">iCATinteractive</a></span>()</code></pre></div>
<p>This will launch a graphical user interface (GUI) for iCAT. The GUI has three tabs, separating major functionalities: training, library, and prediction.</p>
<p><strong>Training:</strong></p>
<p><img src="/screenshot/icat.png?raw=true" title="Training" alt="Alt text"></p>
<p>1) In the <em>Training</em> tab, enter your negative training samples (naïve, unexposed, uninfected, pre-infection, etc) using the <code>Browse</code> button.</p>
<p>Individual samples’ sequencing data should be in .tsv format.</p>
<p>2) Repeat step 1 for positive training samples (exposed, infected, etc.)</p>
<p>3) Choose if you want to analyze data by:</p>
<ul>
<li>
<code>CDR3 Amino Acid Sequence</code> (TCRs will need the same CDR3 region to be called ‘Identical’)</li>
<li>
<code>TCRV-CDR3-TCRJ</code> (TCRs will need the same TCRBV segment, CDR3 region, and TCRJ segment to be called ‘Identical’) <em>Recommended</em>
</li>
<li>
<code>Nucleic Acid (DNA)</code> (TCRs will need the exact same DNA rearrangements/sequence across TCRBV, CDR3, and TCRJ)</li>
</ul>
<p>4) Choose the <code>Max p-value</code>, which determines the minimal degree of statistical significance that iCAT will accept as being potentially “associated” with the positive group. Defaults to <em>p</em> &lt; 0.1.</p>
<p>5) Choose the <code>Min Threshold of Public Sequences</code>, which determines the minimum number of training samples a TCR sequence must be observed in to be considered as potentially “associated” with the positive group. Defaults to 1. Recommend setting at 10% of positive training samples. E.g. if there are 30 positive training samples, a recommended minimum threshold is 3.</p>
<p>6) Once all options are selected click <code>Train Model</code></p>
<p>A progress bar will show on the bottom-right corner to update on the satatus of training. After finishing, the <em>training</em> tab will show some exploratory tables and a figure regarding the training data and the model built, which can all be downloaded to the user’s machine. In addition, the <em>library</em> and <em>prediction</em> tab will unlock.</p>
<p><strong>Library:</strong></p>
<p><img src="/screenshot/lib-icat.png?raw=true" title="Library" alt="Alt text"></p>
<p>The <em>Library</em> tab displays a table consisting of the “target associated receptor sequences” (TARS), determined to be statistically associated with exposure to the target/agent/pathogen. The table displays each sequence, number of positive and negative training samples the sequence is present in/absent from, and how statistically associated the sequence is to the positive training data (<em>p</em>-value). The table can be downloaded to the user’s computer for further analysis using excel, commandline, etc using the download <code>Table</code> button below the table.</p>
<p><strong>Prediction:</strong></p>
<p><img src="/screenshot/pred-icat.png?raw=true" title="Prediction" alt="Alt text"></p>
<p>The <em>Prediction</em> tab allows the user to add sequencing data from unknown samples (e.g. not included in the previous training data) for classification as “Positive” or “Negative” and determining the accuracy of the diagnostic assay.</p>
<p>1) Use the <code>Browse</code> button to add samples for prediction. Multiple samples may be uploaded simultaneously. 2) Click <code>Predict Independent Sample</code>.</p>
<p>A table will appear after analysis is complete. The table displays sample names along with the prediction “Positive” (red)/ “Negative” (blue), and displays the ‘%TARS’: the percent of individual sequences from the sample that are included in the TARS library. The prediction results can be downloaded as a table.</p>
</div>
<div id="r-interface-workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#r-interface-workflow" class="anchor"></a>R-interface Workflow</h2>
<p>After loading iCAT with <code><a href="https://www.rdocumentation.org/packages/base/topics/library">library(iCAT)</a></code></p>
<p>1) Define the parameters you would like to use for building the model:</p>
<div class="sourceCode"><pre class="sourceCode R"><code class="sourceCode r">   <span class="op">&gt;</span><span class="st"> </span>FIELD &lt;-<span class="st"> "vGeneName aminoAcid jGeneName"</span>
   <span class="op">&gt;</span><span class="st"> </span>P_CUTOFF &lt;-<span class="st"> </span><span class="fl">0.1</span>
   <span class="op">&gt;</span><span class="st"> </span>MIN_PUBLIC &lt;-<span class="st"> </span><span class="dv">2</span>
   </code></pre></div>
<p>2) Make lists of .tsv Positive and Negative training samples:</p>
<div class="sourceCode"><pre class="sourceCode R"><code class="sourceCode r">   <span class="op">&gt;</span><span class="st"> </span>listPos &lt;-<span class="st"> </span><span class="kw"><a href="reference/tsvDir.html">tsvDir</a></span>(<span class="st">"path/to/positve/samples/"</span>)
   <span class="op">&gt;</span><span class="st"> </span>listNeg &lt;-<span class="st"> </span><span class="kw"><a href="reference/tsvDir.html">tsvDir</a></span>(<span class="st">"path/to/negative/samples/"</span>)
   </code></pre></div>
<ul>
<li>
<p><em>optional</em> Collect summary statistics about training samples:</p>
<blockquote>
<p>trnStats(listPos, listNeg, FIELD) #&gt; # Samples # Clonotypes # Unique Sequences #&gt;Negative 9 101942 281336 #&gt;Positive 9 34158 89150</p>
</blockquote>
</li>
</ul>
<p>3) Read in Positive and Negative training samples:</p>
<div class="sourceCode"><pre class="sourceCode R"><code class="sourceCode r">   <span class="op">&gt;</span><span class="st"> </span>naive &lt;-<span class="st"> </span><span class="kw"><a href="reference/readTrn.html">readTrn</a></span>(listNeg, FIELD, <span class="st">"naive"</span>)
   <span class="op">&gt;</span><span class="st"> </span>vaccs &lt;-<span class="st"> </span><span class="kw"><a href="reference/readTrn.html">readTrn</a></span>(listPos, FIELD, <span class="st">"vacc"</span>)
   </code></pre></div>
<p>4) Build a model using the training data:</p>
<div class="sourceCode"><pre class="sourceCode R"><code class="sourceCode r">   <span class="op">&gt;</span><span class="st"> </span>mod &lt;-<span class="st"> </span><span class="kw"><a href="reference/train.html">train</a></span>(naive, vaccs, listNeg, listPos, FIELD, P_CUTOFF, MIN_PUBLIC, <span class="ot">NULL</span>)
   </code></pre></div>
<ul>
<li>
<p><em>optional</em> Produce a table estimating the classification accuracy of the model:</p>
<blockquote>
<p>classMat(mod)</p>
</blockquote>
</li>
<li>
<p><em>optional</em> Produce a figure showing % of TCR associated with positve samples in positive and negative samples:</p>
<blockquote>
<p>plotHist(mod)</p>
</blockquote>
</li>
<li>
<p><em>optional</em> Produce the library of TCR sequences associated with positve samples:</p>
<blockquote>
<p>getLib(mod)</p>
</blockquote>
</li>
</ul>
<p>5) Predict sample(s) exposure based on model:</p>
<div class="sourceCode"><pre class="sourceCode R"><code class="sourceCode r">   <span class="op">&gt;</span><span class="st"> </span><span class="kw"><a href="reference/pred.html">pred</a></span>(mod, <span class="st">"path/to/unknown"</span>, <span class="st">"unknown-sample-label"</span>, FIELD)
   </code></pre></div>
<p><em>Note</em>: If predicting multiple samples, use vectors for paths and labels.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>What license is it under?</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Ahmad Rajeh <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>

      <footer><div class="copyright">
  <p>Developed by Ahmad Rajeh.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
